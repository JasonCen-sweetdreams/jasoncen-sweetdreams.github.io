# 一、agent的工具调用问题

## 不调用工具 / 调用了预期之外的工具

### 描述

1. 在放入了工具prompt后，不调用工具 / 调用了预期之外的工具

注：不能采用hard的方式来指定agent在特定流程调用特定的工具，希望保留一定的自主性

### 原因分析

1. agent有一些上文内容（如讨论的内容），可能认为不需要检索额外的信息
2. 没有明确提示agent，调用工具来辅助完成任务是有必要的

### 解决方法

- 在有工具模板prompt的提示下，不能使用自然语言再去提示模型调用工具——返回预期外的数据格式
- 优化工具prompt——解决了问题：预期外调用
  - name和description的定义
    - 两种搜索工具：纯语义的检索工具、语义+图结构的检索工具
    - 它们的description没有体现出具体的任务导向区别

 